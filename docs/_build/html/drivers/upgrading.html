
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Driver Upgrade Guide &#8212; Network Operator</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=643846e8" />
    <link rel="stylesheet" type="text/css" href="../_static/rocm_header.css?v=9557e3d1" />
    <link rel="stylesheet" type="text/css" href="../_static/rocm_footer.css?v=7095035a" />
    <link rel="stylesheet" type="text/css" href="../_static/fonts.css?v=fcff5274" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=a1637f0b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script async="async" src="../_static/code_word_breaks.js?v=327952c4"></script>
    <script async="async" src="../_static/renameVersionLinks.js?v=929fe5e4"></script>
    <script async="async" src="../_static/rdcMisc.js?v=01f88d96"></script>
    <script async="async" src="../_static/theme_mode_captions.js?v=15f4ec5d"></script>
    <script defer="defer" src="../_static/search.js?v=90a4452c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'drivers/upgrading';</script>
    <script async="async" src="https://download.amd.com/js/analytics/analyticsinit.js"></script>
    <link rel="canonical" href="instinct.docs.amd.com/drivers/upgrading.html" />
    <link rel="icon" href="https://www.amd.com/content/dam/code/images/favicon/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="google-site-verification" content="vo35SZt_GASsTHAEmdww7AYKPCvZyzLvOXBl8guBME4" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  

<header class="common-header" >
    <nav class="navbar navbar-expand-xl">
        <div class="container-fluid main-nav rocm-header">
            
            <button class="navbar-toggler collapsed" id="nav-icon" data-tracking-information="mainMenuToggle" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="header-logo">
                <a class="navbar-brand" href="https://www.amd.com/">
                    <img src="../_static/images/amd-header-logo.svg" alt="AMD Logo" title="AMD Logo" width="90" class="d-inline-block align-text-top hover-opacity"/>
                </a>
                <div class="vr vr mx-40 my-25"></div>
                
        
    
    <a class="klavika-font hover-opacity" href="https://instinct.docs.amd.com">Instinct&#8482; Documentation</a>
                
            </div>
            <div class="icon-nav text-center d-flex ms-auto">
            </div>
        </div>
    </nav>
    
    <nav class="navbar navbar-expand-xl second-level-nav">
        <div class="container-fluid main-nav">
            <div class="navbar-nav-container collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-mega me-auto mb-2 mb-lg-0 col-xl-10">
                    
                        <li class="nav-item">
                            <a class="nav-link top-level header-menu-links" href="http://github.com/ROCm/network-operator" id="navgithub" role="button" aria-expanded="false" target="_blank" >
                                GitHub
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link top-level header-menu-links" href="https://github.com/ROCm/ROCm/discussions" id="navcommunity" role="button" aria-expanded="false" target="_blank" >
                                Community
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link top-level header-menu-links" href="https://rocm.blogs.amd.com/" id="navblogs" role="button" aria-expanded="false" target="_blank" >
                                Blogs
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link top-level header-menu-links" href="https://www.amd.com/en/developer/resources/rocm-hub.html" id="navrocm-developer-hub" role="button" aria-expanded="false" target="_blank" >
                                ROCm Developer Hub
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link top-level header-menu-links" href="https://rocm.docs.amd.com" id="navrocm&#8482;-docs" role="button" aria-expanded="false" target="_blank" >
                                ROCm&#8482; Docs
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link top-level header-menu-links" href="http://github.com/ROCm/network-operator/issues/new/choose" id="navsupport" role="button" aria-expanded="false" target="_blank" >
                                Support
                            </a>
                        </li>
                    
                </ul>
            </div>
        </div>
    </nav>
    
</header>


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<a class="navbar-brand logo" href="https://instinct.docs.amd.com">
    <p>Instinct Documentation</p>
</a></div>
          
        
      </div>
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Network Operator</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-angle-right"></span>
  </label></div>
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Driver Upgrade Guide</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Driver Upgrade Guide</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#automatic-upgrade-process">1. Automatic Upgrade Process</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-desired-driver-version-and-configure-upgrade-policy">1. Set desired driver version and configure upgrade policy</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#driver-upgradepolicy-parameters"><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy</span></code> Parameters</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#driver-upgradepolicy-nodedrainpolicy-parameters"><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy.nodeDrainPolicy</span></code> Parameters</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#driver-upgradepolicy-poddeletionpolicy-parameters"><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy.podDeletionPolicy</span></code> Parameters</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#track-the-upgrade-status-through-cr-status">2. Track the upgrade status through CR status</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recovery-from-upgrade-failure">3. Recovery From Upgrade Failure</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-upgrade-process">2. Manual Upgrade Process</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-current-driver-version">1. Check Current Driver Version</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#update-networkconfig">2. Update NetworkConfig</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-tag-format">Image Tag Format</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stop-workloads">3. Stop Workloads</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#update-node-labels">4. Update Node Labels</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-a-direct-update-recommended">Option A: Direct Update (Recommended)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-b-remove-and-add-if-maintenance-is-needed">Option B: Remove and Add (If maintenance is needed)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#restart-workloads">5. Restart Workloads</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verification">Verification</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="driver-upgrade-guide">
<h1>Driver Upgrade Guide<a class="headerlink" href="#driver-upgrade-guide" title="Link to this heading">#</a></h1>
<p>This guide walks through the process of upgrading AMD Network drivers on worker nodes.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>The driver can be upgraded in the following methods.</p>
<ol class="arabic simple">
<li><p>Automatic Upgrade Process</p></li>
<li><p>Manual Upgrade Process</p></li>
</ol>
</section>
<section id="automatic-upgrade-process">
<h2>1. Automatic Upgrade Process<a class="headerlink" href="#automatic-upgrade-process" title="Link to this heading">#</a></h2>
<p>Automatic upgrade is enabled if the networkconfig has field <code class="docutils literal notranslate"><span class="pre">upgradePolicy</span></code> enabled.
If this field is not configured, then user has to follow the manual steps as shown in next section
If this field is configured and the <code class="docutils literal notranslate"><span class="pre">version</span></code> field is changed in driver spec, automatic driver upgrade progress is initiated.</p>
<p>The following operations are sequentially executed by the network operator for each selected node</p>
<ol class="arabic">
<li><p>The node is cordoned so that no pods can be scheduled on this node.</p></li>
<li><p>The existing pods that require AMD NICs, VNICs, or GPUs (i.e., pods requesting <code class="docutils literal notranslate"><span class="pre">amd.com/nic</span></code>, <code class="docutils literal notranslate"><span class="pre">amd.com/vnic</span></code>, or <code class="docutils literal notranslate"><span class="pre">amd.com/gpu</span></code>) are drained/deleted based on the config in the upgrade policy.</p></li>
<li><p>The desired driver version label is updated as shown below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kmm.node.kubernetes.io/version-module.&lt;networkconfig-namespace&gt;.&lt;networkconfig-name&gt;<span class="o">=</span>&lt;new-version&gt;
</pre></div>
</div>
</li>
<li><p>KMM operator unloads the old driver version and loads the new driver version.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">amdgpu</span></code> kernel modules will be reloaded on the node as part of the process. This is primarily due to the <code class="docutils literal notranslate"><span class="pre">ib_peer_mem</span></code> dependency issue between the <code class="docutils literal notranslate"><span class="pre">amdgpu</span></code> and <code class="docutils literal notranslate"><span class="pre">ionic_rdma</span></code> drivers. Since <code class="docutils literal notranslate"><span class="pre">amdgpu</span></code> holds <code class="docutils literal notranslate"><span class="pre">ib_peer_mem</span></code>, the <code class="docutils literal notranslate"><span class="pre">ionic_rdma</span></code> driver cannot be uninstalled while it’s in use. As a result:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">amdgpu</span></code> is unloaded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ionic_rdma</span></code> is upgraded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">amdgpu</span></code> is loaded back.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>If the node requires reboot post installation (configurable in upgradePolicy), the node is rebooted</p></li>
<li><p>Once the node is rebooted and the desired driver is loaded, the node is uncordoned and available for scheduling.</p></li>
</ol>
<p>The following are the steps to perform the automatic driver upgrade</p>
<ol class="arabic simple">
<li><p>Set the desired driver version and configure upgrade policy</p></li>
<li><p>Track the upgrade status through CR status</p></li>
</ol>
<section id="set-desired-driver-version-and-configure-upgrade-policy">
<h3>1. Set desired driver version and configure upgrade policy<a class="headerlink" href="#set-desired-driver-version-and-configure-upgrade-policy" title="Link to this heading">#</a></h3>
<p>The following sample config shows the relevant fields to start automatic driver upgrade across the nodes in the cluster with default upgrade configuration.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">amd.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NetworkConfig</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test-networkconfig</span>
<span class="w">  </span><span class="c1"># use the namespace where AMD Network Operator is running</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kube-amd-network</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">driver</span><span class="p">:</span>
<span class="w">    </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.117.1-a-63</span>
<span class="w">    </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">upgradePolicy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">feature.node.kubernetes.io/amd-vnic</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;true&quot;</span>
</pre></div>
</div>
<p>Upgrade configuration reference</p>
<p>To check the full spec of upgrade configuration run kubectl get crds networkconfigs.amd.com -oyaml</p>
<section id="driver-upgradepolicy-parameters">
<h4><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy</span></code> Parameters<a class="headerlink" href="#driver-upgradepolicy-parameters" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable</span></code></p></td>
<td><p>Enable this upgrade policy</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">maxParallelUpgrades</span></code></p></td>
<td><p>Maximum number of nodes which will be upgraded in parallel</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">maxUnavailableNodes</span></code></p></td>
<td><p>Maximum number (or Percentage) of nodes which can be unavailable (cordoned) in the cluster</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">25%</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rebootRequired</span></code></p></td>
<td><p>Reboot the node after driver upgrade is done. Waits for 60 mins post reboot before declaring as failed</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="driver-upgradepolicy-nodedrainpolicy-parameters">
<h4><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy.nodeDrainPolicy</span></code> Parameters<a class="headerlink" href="#driver-upgradepolicy-nodedrainpolicy-parameters" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">force</span></code></p></td>
<td><p>Allow drain to proceed on the node even if there are managed pods such as daemon-sets. In such cases drain will not proceed unless this option is set to true</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code></p></td>
<td><p>The length of time to wait before giving up. Zero means infinite</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">300s</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="driver-upgradepolicy-poddeletionpolicy-parameters">
<h4><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy.podDeletionPolicy</span></code> Parameters<a class="headerlink" href="#driver-upgradepolicy-poddeletionpolicy-parameters" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">force</span></code></p></td>
<td><p>Force delete all pods that use amd nics</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code></p></td>
<td><p>The length of time to wait before giving up. Zero means infinite</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">300s</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="track-the-upgrade-status-through-cr-status">
<h3>2. Track the upgrade status through CR status<a class="headerlink" href="#track-the-upgrade-status-through-cr-status" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">status.nodeModuleStatus.&lt;worker-node&gt;.status</span></code> captures the status of the upgrade process for each node</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">status</span><span class="p">:</span>
<span class="w">  </span><span class="nt">nodeModuleStatus</span><span class="p">:</span>
<span class="w">    </span><span class="nt">cloudvm1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">bootId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fdd8ac0e-777b-4e0e-88d4-3d92300d8b65</span>
<span class="w">      </span><span class="nt">containerImage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker.io/amdpsdo/nic-driver:ubuntu-24.04-6.8.0-85-generic-1.117.1-a-63</span>
<span class="w">      </span><span class="nt">kernelVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.8.0-85-generic</span>
<span class="w">      </span><span class="nt">lastTransitionTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 06:02:48 +0000 UTC</span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upgrade-Complete</span>
<span class="w">      </span><span class="nt">upgradeStartTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 06:02:26 UTC</span>
<span class="w">    </span><span class="nt">cloudvm2</span><span class="p">:</span>
<span class="w">      </span><span class="nt">bootId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5b40ad07-e3ff-48ef-9c78-718522ffcb74</span>
<span class="w">      </span><span class="nt">containerImage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker.io/amdpsdo/nic-driver:ubuntu-24.04-6.8.0-85-generic-1.117.1-a-63</span>
<span class="w">      </span><span class="nt">kernelVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.8.0-85-generic</span>
<span class="w">      </span><span class="nt">lastTransitionTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 06:03:52 +0000 UTC</span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upgrade-Complete</span>
<span class="w">      </span><span class="nt">upgradeStartTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 06:03:30 UTC</span>
<span class="w">    </span><span class="nt">cloudvm3</span><span class="p">:</span>
<span class="w">      </span><span class="nt">bootId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">786010b3-e81c-4c0c-bd2d-5d6ed986ed7e</span>
<span class="w">      </span><span class="nt">containerImage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker.io/amdpsdo/nic-driver:ubuntu-24.04-6.8.0-85-generic-1.117.1-a-63</span>
<span class="w">      </span><span class="nt">kernelVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.8.0-85-generic</span>
<span class="w">      </span><span class="nt">lastTransitionTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 06:04:02 +0000 UTC</span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upgrade-Complete</span>
<span class="w">      </span><span class="nt">upgradeStartTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 06:03:56 UTC</span>
<span class="w">    </span><span class="nt">cloudvm4</span><span class="p">:</span>
<span class="w">      </span><span class="nt">bootId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a4a8a4f6-c012-4087-baca-51e6638c4691</span>
<span class="w">      </span><span class="nt">containerImage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker.io/amdpsdo/nic-driver:ubuntu-24.04-6.8.0-85-generic-1.117.1-a-63</span>
<span class="w">      </span><span class="nt">kernelVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.8.0-85-generic</span>
<span class="w">      </span><span class="nt">lastTransitionTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 06:04:00 +0000 UTC</span>
<span class="w">      </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upgrade-Complete</span>
<span class="w">      </span><span class="nt">upgradeStartTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025-10-16 01:59:11 UTC</span>
</pre></div>
</div>
<p>The following are the different node states during the upgrade process</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>State</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Install-In-Progress</span></code></p></td>
<td><p>Driver is being installed on the node for the first time</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Install-Complete</span></code></p></td>
<td><p>Driver install is complete</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Upgrade-Not-Started</span></code></p></td>
<td><p>Automatic upgrade enabled and driver version change is detected. All nodes move to this state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Upgrade-In-Progress</span></code></p></td>
<td><p>Selected nodes conforming to upgrade policy will be attempted for driver upgrade</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Upgrade-Complete</span></code></p></td>
<td><p>Driver upgrade is successfully complete on the node</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Upgrade-Timed-Out</span></code></p></td>
<td><p>Driver upgrade couldn’t finish within 2 hours</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Cordon-Failed</span></code></p></td>
<td><p>Cordoning of the node failed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Uncordon-Failed</span></code></p></td>
<td><p>Uncordoning of the node failed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Drain-Failed</span></code></p></td>
<td><p>Drain node or Delete pods operation failed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Reboot-In-Progress</span></code></p></td>
<td><p>Driver upgrade is done and reboot is in progress</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Reboot-Failed</span></code></p></td>
<td><p>Driver upgrade is done and reboot attempt failed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Upgrade-Failed</span></code></p></td>
<td><p>Driver upgrade failed for any other reasons</p></td>
</tr>
</tbody>
</table>
</div>
<p>The following are considered during the automatic upgrade process</p>
<ol class="arabic simple">
<li><p>Selection of a node should satisfy both <code class="docutils literal notranslate"><span class="pre">maxUnavailableNodes</span></code> and <code class="docutils literal notranslate"><span class="pre">maxParallelUpgrades</span></code> criteria</p></li>
<li><p>All nodes in failed state is considered while calculating <code class="docutils literal notranslate"><span class="pre">maxUnavailableNodes</span></code></p></li>
</ol>
</section>
<section id="recovery-from-upgrade-failure">
<h3>3. Recovery From Upgrade Failure<a class="headerlink" href="#recovery-from-upgrade-failure" title="Link to this heading">#</a></h3>
<p>If it is observed that the upgrade status is in failed state for a specific node, the user can debug the node, fix it and then add this label to the node to restart upgrade on it. The upgrade state will be reset and it can be tracked as it was before</p>
<ul class="simple">
<li><p>Command:   <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">label</span> <span class="pre">node</span> <span class="pre">&lt;nodename&gt;</span> <span class="pre">operator.amd.com/network-driver-upgrade-state=upgrade-required</span></code></p></li>
<li><p>Label:     <code class="docutils literal notranslate"><span class="pre">operator.amd.com/network-driver-upgrade-state:</span> <span class="pre">upgrade-required</span></code></p></li>
</ul>
</section>
</section>
<section id="manual-upgrade-process">
<h2>2. Manual Upgrade Process<a class="headerlink" href="#manual-upgrade-process" title="Link to this heading">#</a></h2>
<p>The manual upgrade process involves the following steps:</p>
<ol class="arabic simple">
<li><p>Verifying current installation</p></li>
<li><p>Updating the driver version</p></li>
<li><p>Managing workloads</p></li>
<li><p>Updating node labels</p></li>
<li><p>Performing the upgrade</p></li>
</ol>
<section id="check-current-driver-version">
<h3>1. Check Current Driver Version<a class="headerlink" href="#check-current-driver-version" title="Link to this heading">#</a></h3>
<p>Verify the existing driver version label on your worker nodes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>get<span class="w"> </span>node<span class="w"> </span>&lt;worker-node&gt;<span class="w"> </span>-o<span class="w"> </span>yaml
</pre></div>
</div>
<p>Look for the label in this format:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>kmm.node.kubernetes.io/version-module.&lt;networkconfig-namespace&gt;.&lt;networkconfig-name&gt;=&lt;version&gt;
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>kmm.node.kubernetes.io/version-module.kube-amd-network.vf-test-networkconfig=1.117.1-a-63
</pre></div>
</div>
</section>
<section id="update-networkconfig">
<h3>2. Update NetworkConfig<a class="headerlink" href="#update-networkconfig" title="Link to this heading">#</a></h3>
<p>Update the <code class="docutils literal notranslate"><span class="pre">driverVersion</span></code> field in your NetworkConfig:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>edit<span class="w"> </span>networkconfigs<span class="w"> </span>&lt;networkconfig-name&gt;<span class="w"> </span>-n<span class="w"> </span>kube-amd-network
</pre></div>
</div>
<p>The operator will automatically:</p>
<ol class="arabic simple">
<li><p>Look for the new driver image in the registry</p></li>
<li><p>Build the image if it doesn’t exist</p></li>
<li><p>Push the built image to your specified registry</p></li>
</ol>
<section id="image-tag-format">
<h4>Image Tag Format<a class="headerlink" href="#image-tag-format" title="Link to this heading">#</a></h4>
<p>The operator uses specific tag formats based on the OS:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>OS</p></th>
<th class="head"><p>Tag Format</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ubuntu</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ubuntu-&lt;version&gt;-&lt;kernel&gt;-&lt;driver&gt;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ubuntu-22.04-6.8.0-40-generic-6.1.3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>RHEL CoreOS</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">coreos-&lt;version&gt;-&lt;kernel&gt;-&lt;driver&gt;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">coreos-416.94-5.14.0-427.28.1.el9_4.x86_64-6.2.2</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<div><p><strong>Warning</strong>: If a node’s ready status changes during upgrade (Ready → NotReady → Ready) before its driver version label is updated, the old driver won’t be reinstalled. Complete the upgrade steps for these nodes to install the new driver.</p>
</div></blockquote>
</section>
</section>
<section id="stop-workloads">
<h3>3. Stop Workloads<a class="headerlink" href="#stop-workloads" title="Link to this heading">#</a></h3>
<p>Stop all workloads using the AMD NIC driver on the target node before proceeding.</p>
</section>
<section id="update-node-labels">
<h3>4. Update Node Labels<a class="headerlink" href="#update-node-labels" title="Link to this heading">#</a></h3>
<p>You have two options for updating node labels:</p>
<section id="option-a-direct-update-recommended">
<h4>Option A: Direct Update (Recommended)<a class="headerlink" href="#option-a-direct-update-recommended" title="Link to this heading">#</a></h4>
<p>If no additional maintenance is needed, directly update the version label:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old label format:</span>
kmm.node.kubernetes.io/version-module.&lt;namespace&gt;.&lt;networkconfig-name&gt;<span class="o">=</span>&lt;old-version&gt;
<span class="c1"># New label format:</span>
kmm.node.kubernetes.io/version-module.&lt;namespace&gt;.&lt;networkconfig-name&gt;<span class="o">=</span>&lt;new-version&gt;
</pre></div>
</div>
</section>
<section id="option-b-remove-and-add-if-maintenance-is-needed">
<h4>Option B: Remove and Add (If maintenance is needed)<a class="headerlink" href="#option-b-remove-and-add-if-maintenance-is-needed" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Remove old version label:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>label<span class="w"> </span>node<span class="w"> </span>&lt;worker-node&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>kmm.node.kubernetes.io/version-module.&lt;namespace&gt;.&lt;networkconfig-name&gt;-
</pre></div>
</div>
<ul class="simple">
<li><p>Perform required maintenance</p></li>
<li><p>Add new version label:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>label<span class="w"> </span>node<span class="w"> </span>&lt;worker-node&gt;<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>kmm.node.kubernetes.io/version-module.&lt;namespace&gt;.&lt;networkconfig-name&gt;<span class="o">=</span>&lt;new-version&gt;
</pre></div>
</div>
</section>
</section>
<section id="restart-workloads">
<h3>5. Restart Workloads<a class="headerlink" href="#restart-workloads" title="Link to this heading">#</a></h3>
<p>After the new driver is installed successfully, restart your NIC workloads on the upgraded node.</p>
</section>
</section>
<section id="verification">
<h2>Verification<a class="headerlink" href="#verification" title="Link to this heading">#</a></h2>
<p>To verify the upgrade, check node labels:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>get<span class="w"> </span>node<span class="w"> </span>&lt;worker-node&gt;<span class="w"> </span>--show-labels<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>kmm.node.kubernetes.io
</pre></div>
</div>
<ul class="simple">
<li><p>Verify driver version:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>get<span class="w"> </span>networkconfigs<span class="w"> </span>&lt;networkconfig-name&gt;<span class="w"> </span>-n<span class="w"> </span>kube-amd-network<span class="w"> </span>-o<span class="w"> </span>yaml
</pre></div>
</div>
<ul class="simple">
<li><p>Check driver status:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>get<span class="w"> </span>networkconfigs<span class="w"> </span>&lt;networkconfig-name&gt;<span class="w"> </span>-n<span class="w"> </span>kube-amd-network<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.status}&#39;</span>
</pre></div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#automatic-upgrade-process">1. Automatic Upgrade Process</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-desired-driver-version-and-configure-upgrade-policy">1. Set desired driver version and configure upgrade policy</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#driver-upgradepolicy-parameters"><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy</span></code> Parameters</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#driver-upgradepolicy-nodedrainpolicy-parameters"><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy.nodeDrainPolicy</span></code> Parameters</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#driver-upgradepolicy-poddeletionpolicy-parameters"><code class="docutils literal notranslate"><span class="pre">driver.upgradePolicy.podDeletionPolicy</span></code> Parameters</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#track-the-upgrade-status-through-cr-status">2. Track the upgrade status through CR status</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recovery-from-upgrade-failure">3. Recovery From Upgrade Failure</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-upgrade-process">2. Manual Upgrade Process</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-current-driver-version">1. Check Current Driver Version</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#update-networkconfig">2. Update NetworkConfig</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-tag-format">Image Tag Format</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stop-workloads">3. Stop Workloads</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#update-node-labels">4. Update Node Labels</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-a-direct-update-recommended">Option A: Direct Update (Recommended)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-b-remove-and-add-if-maintenance-is-needed">Option B: Remove and Add (If maintenance is needed)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#restart-workloads">5. Restart Workloads</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verification">Verification</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <p>
  </p>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

<footer class="rocm-footer">
    <div class="container-lg">
        <section class="bottom-menu menu py-45">
            <div class="row d-flex align-items-center">
                <div class="col-12 text-center">
                    <ul>
                        <li><a href="https://www.amd.com/en/corporate/copyright" target="_blank">Terms and Conditions</a></li>
                        
                        <li><a href="https://www.amd.com/en/corporate/privacy" target="_blank">Privacy</a></li>
                        <li><a href="https://www.amd.com/en/corporate/trademarks" target="_blank">Trademarks</a></li>
                        <li><a href="https://www.amd.com/content/dam/amd/en/documents/corporate/cr/supply-chain-transparency.pdf" target="_blank">Supply Chain Transparency</a></li>
                        <li><a href="https://www.amd.com/en/corporate/competition" target="_blank">Fair and Open Competition</a></li>
                        <li><a href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf" target="_blank">UK Tax Strategy</a></li>
                        <li><a href="https://www.amd.com/en/corporate/cookies" target="_blank">Cookie Policy</a></li>
                        <!-- OneTrust Cookies Settings button start -->
                        <li><a href="#cookie-settings" id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Settings</a></li>
                        <!-- OneTrust Cookies Settings button end -->
                    </ul>
                </div>
            </div>
            <div class="row d-flex align-items-center">
                <div class="col-12 text-center">
                    <div>
                        <span class="copyright">© 2025 Advanced Micro Devices, Inc</span>
                    </div>
                </div>
            </div>
        </section>
    </div>
</footer>

<!-- <div id="rdc-watermark-container">
    <img id="rdc-watermark" src="../_static/images/alpha-watermark.svg" alt="DRAFT watermark"/>
</div> -->
  </body>
</html>